---
description: 
tags: 
    - 'MT' 
---

## サーブレット（Java Servlet）とは

- Webサーバ上（バックエンド）で動く、Javaで書かれたプログラムのこと。
- クライアント側からリクエストを送ると、その要求をサーブレットが受けてデータの処理をしたり、動的なWebページを作成する。
> 動的なwebページとは、同じURLをリクエストした場合でもアクセスした人によってページの見え方を変えて提供するページのこと。
> 動的なwebページを提供する方法の一つにサーブレットがある

### サーブレットコンテナとは

- サーブレットはJavaプログラムなので、実行環境が必要。その実行環境となるソフトウェアがサーブレットコンテナとなる。
- `HTTPリクエスト`は`サーブレットコンテナ`が受け取って、`サーブレットコンテナ`が`サーブレット`に対して処理の命令を出すといった流れになる

## サーブレットの動作について

```mermaid
flowchart LR
	Webブラウザ_フロントエンド--->
	|"Servletコンテナ(サーバ)に </br> リクエスト(クリック・送信等)"| Webサーバ_バックエンド
	
	Webサーバ_バックエンド--->
	|"返答"|Webブラウザ_フロントエンド
	
	subgraph Webサーバ_バックエンド
		DB -- 返答 --> サーブレット
		サーブレット -- 情報の問い合わせ -->DB
	end
	
	subgraph Webブラウザ_フロントエンド
		クリックやログイン情報の送信
	end

```

例として会員のログイン
検索画面にURLを打ち込んで検索（GETメソッドでHTTPリクエスト）
ログインページが表示
ログインのためにID、PSを入力、submit（POSTメソッド、HTTPリクエスト）
受け取ったサーブレットはログイン情報があっていれば会員ページへ、ログイン失敗をすれば失敗ページをリダイレクトする

## サーブレットを使うメリットとは

> メリット1 : ライフサイクル管理

ライフサイクルとは、
処理が始まってから終わるまでの一連の流れのこと。

HPを見るときにクリックして他のページに遷移したり、ログインしたり、HTTPリクエストを複数回行う度に1回1回リクエストが送られてきて起動するのでは返答までに速度が遅くなるので、1回の訪問（セッション）を管理して、1度リクエストが送られてきたら、メモリに常駐してデータを維持することで返答までのスピードを速めることができる。

> メリット2 : マルチスレッド対応