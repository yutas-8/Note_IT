---
title: Mockテストについて
date: 
description: Mockテストについて
tags: ['UT']
category: Mock
---
## Mockとは

- テストに必要な部品の値を擬似的に設定するもの
- ユニットテストを行うクラス以外の中身をわざわざ変更するのが手間であったり、変更する先のクラスが複雑または膨大な処理行っている時にその分工数が増えるといったようにテストの準備段階でとても大変なことになる時に使えるのがMockテストである。
- Mockと使うことでテストを行うクラスが他のクラスの戻り値を使う時にMock使って自由に設定することができるのでテストに必要な部品を簡単に揃えることができる。
- Mock化したものをインスタンス生成するとMockの意味がなくなってしまうので使い分ける必要がある

## @Mock と @Spy

- Mockitoから提供されているアノテーション
- mockメソッド、spyメソッドの省略形

### mockメソッド

- インスタンスの非static且つpublicのメソッドをすべてMock化することができる。
- 一部のメソッドを実装したまま使いたい場合は適さない。
- when/ThenReturnを行うことで戻り値を設定することができる

### Spyメソッド

- 明治的に指定したメソッドのみをMock化することができる。
- Mock化しないメソッドは実装通りの振る舞いをする。

## 現場で気づいたこと・学んだこと

- Bean系はインスタンス生成をしている。（Bean自体は処理するわけではないからと推測）
