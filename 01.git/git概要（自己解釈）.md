---
title: git概要
date: 
description: 
tags: ['git']
category: 
---

## コマンド表

|コマンド|説明|
|--|--|
|`git init`|ローカルリポジトリ作成|
|`git add`|ワークツリーで作業を行ったものをインデックスに登録する|
|`git commit`|インデックスに登録したものをローカルリポジトリに登録する。</br>この際に追加、変更、削除といった履歴を残すことができる。|
|`git push`|ローカルリポジトリの履歴を共有するために履歴をアップロードする。</br>これによりリモートリポジトリとローカルリポジトリの履歴の状態が同じになる。</br>これを行うことで自分が作業して変更した内容を他の人に共有することができる。逆もしかり他人の作業した内容を自身に反映することがようになる。</br>ここまで行わないと自分のPC内でのみとなっている。|
|`git clone`|誰かの変更履歴のあるリモートリポジトリのものをまるごと自分のローカルリポジトリにコピーすることができる。|
|`git pull`|リモートリポジトリの更新内容をローカルリポジトリに反映させることができる。`git fetch` + `git merge`を一度に行うことができる|
|`git fetch`|リモートリポジトリの最新の履歴だけを取得することができる。</br>取得したコミットは名前の無いブランチとなり「___FETCH_HEAD___」とブランチ名を指定することでチェックアウトすることができる。</br>リモートリポジトリの変更だけを確認してローカルには変更を反映させたくないときに使用する。|
|`git merge`||

---

## Git基本

### Gitを使ったバージョン管理について

手動でバージョン管理をするとなると、</br>編集する前にバックアップを取っておいてファイル名を変更して管理することになったりといろいろルールづくりなどが大変。</br>複数人で作業をすることになればそれはもっとは大変になることは間違えない、、、</br>更に複数人でファイルを共有していると２人以上で同じファイルを編集して先に編集して保存しておいた人のものを上書きしてしまうといったことも起きてしまい、１つ前の編集内容が消えてしまうといったことが起きることもある。

こんな問題を解決するために作られたシステムがGitなどの`バージョン管理システム`である。

#### Gitとは

分散型バージョン管理システムの一つで、もともとはLinuxのコードを管理するために作られたことが始まりらしい。</br>
Gitは、ファイルを自分のタイミングで変更履歴を保存したり、一度編集をしたファイルを過去に戻したり、編集箇所の差分を確かめることができる。</br>
また、上記で問題としてあがった複数人で同時編集して最新のファイルに上書き保存をしようとすると、サーバにアップロードした時点で警告が出ることで防ぐことができるようになった。</br>
変更履歴やファイルはすべてGit管理になることで手元にバックアップしていた大量のファイルは必要なくなるという利点も同時に生まれたことになる。

### 履歴を管理するリポジトリ

> リポジトリとは </br>
ファイルやディレクトリの状態を記録する場所。</br>
変更履歴を管理したいディレクトリをリポジトリの管理下に置くとその中で起きた変更履歴を記録しておくことが可能

#### リモートとローカル

Gitのリポジトリはリモートとローカルの２種類に分かれている。

- リモートリポジトリ </br>
    サーバに配置をして複数人で共有することができる
- ローカルリポジトリ </br>
    自分のマシン上に配置しているもの

普段はローカルリポジトリで作業を行い、作業した内容で公開・共有したい内容をリモートリポジトリにアップロードする。またはリモートリポジトリを使って他の人行った作業内容を自身のローカルリポジトリに反映させるためにダウンロードすることができる。

### コミット

ファイルやディレクトリの追加・変更といった履歴を記録するために必要な操作が`コミット`です。
</br>
コミットを実行することで、リポジトリ内では、前回コミットしたときの状態～現在の状態までの差分を記録した `コミット（またはリビジョン）` と呼ばれるものが作成される。
</br>
コミットにはコミットの情報から計算された重複のない英数字40桁の名前が付けられているので、それを指定することで、その時にコミットをした内容を確認することができる。
</br>
また、コミットの際にはメッセージの入力が必要となるので、今回のコミットでは`「どのような変更を行ったのか？」`を記載しておくことで振り返った際や他の人が確認するときにわかりやすくなるのでメッセージをつけることと分かりやすいメッセージを入力することを徹底して行うことが良い。

---

```text
作業ツリー
↓
    git add
↓
インデックス
↓
    git commit
↓
ローカルリポジトリ
↓
    git push
↓
リモートリポジトリ
```

---

```text
ローカルリポジトリ
↑
    git pull
↑
リモートリポジトリ
```

---

## ブランチについて

ローカルリポジトリ内にローカルブランチとリモート追跡ブランチがある。

```text
ローカルリポジトリ
↑   ローカルブランチ
↑   master
↑   ↑
    ［git merge］
↑   ↑
↑   リモート追跡ブランチ
↑   origin/master
↑   ↑
    [git fetch]
↑   ↑
リモートリモートリポジトリ
    リモートブランチ
    master
```
